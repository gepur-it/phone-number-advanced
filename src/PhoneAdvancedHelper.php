<?php
/**
 * @author: Marina Mileva m934222258@gmail.com
 * @since: 31.10.18
 */

namespace GepurIt\PhoneNumberAdvanced;

/**
 * Class PhoneAdvancedHelper
 * @package GepurIt\PhoneNumberAdvanced
 */
class PhoneAdvancedHelper
{
    /**
     * Country calling codes
     * @see https://en.wikipedia.org/wiki/List_of_country_calling_codes
     * @see https://ru.wikipedia.org/wiki/%D0%A2%D0%B5%D0%BB%D0%B5%D1%84%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5_%D0%BA%D0%BE%D0%B4%D1%8B_%D1%81%D1%82%D1%80%D0%B0%D0%BD
     * It is also checked against the current official documentation of telecommunications companies and international organizations
     * ToDo: translate countries to English
     */
    const PHONE_CODES_RU = [
        // 'США, Канада и Карибсий бассейн'
        '1' => [
            4 => [
                // США
                '1208' => 'США, Айдахо',
                '1319' => 'США, Айова',
                '1515' => 'США, Айова',
                '1563' => 'США, Айова',
                '1641' => 'США, Айова',
                '1712' => 'США, Айова',
                '1205' => 'США, Алабама',
                '1251' => 'США, Алабама',
                '1256' => 'США, Алабама',
                '1334' => 'США, Алабама',
                '1938' => 'США, Алабама',
                '1907' => 'США, Аляска',
                '1480' => 'США, Аризона',
                '1520' => 'США, Аризона',
                '1665' => 'США, Аризона',
                '1623' => 'США, Аризона',
                '1928' => 'США, Аризона',
                '1479' => 'США, Арканзас',
                '1501' => 'США, Арканзас',
                '1870' => 'США, Арканзас',
                '1307' => 'США, Вайоминг',
                '1206' => 'США, Вашингтон',
                '1253' => 'США, Вашингтон',
                '1360' => 'США, Вашингтон',
                '1425' => 'США, Вашингтон',
                '1509' => 'США, Вайоминг',
                '1802' => 'США, Вермонт',
                '1276' => 'США, Виргиния',
                '1434' => 'США, Виргиния',
                '1540' => 'США, Виргиния',
                '1571' => 'США, Виргиния',
                '1703' => 'США, Виргиния',
                '1757' => 'США, Виргиния',
                '1804' => 'США, Виргиния',
                '1262' => 'США, Висконсин',
                '1414' => 'США, Висконсин',
                '1534' => 'США, Висконсин',
                '1608' => 'США, Висконсин',
                '1715' => 'США, Висконсин',
                '1920' => 'США, Висконсин',
                '1808' => 'США, Гавайи',
                '1302' => 'США, Делавэр',
                '1229' => 'США, Джорджия',
                '1404' => 'США, Джорджия',
                '1478' => 'США, Джорджия',
                '1678' => 'США, Джорджия',
                '1706' => 'США, Джорджия',
                '1762' => 'США, Джорджия',
                '1770' => 'США, Джорджия',
                '1912' => 'США, Джорджия',
                '1304' => 'США, Западная Виргиния',
                '1681' => 'США, Западная Виргиния',
                '1217' => 'США, Иллинойс',
                '1224' => 'США, Иллинойс',
                '1309' => 'США, Иллинойс',
                '1312' => 'США, Иллинойс',
                '1331' => 'США, Иллинойс',
                '1618' => 'США, Иллинойс',
                '1630' => 'США, Иллинойс',
                '1708' => 'США, Иллинойс',
                '1773' => 'США, Иллинойс',
                '1779' => 'США, Иллинойс',
                '1815' => 'США, Иллинойс',
                '1847' => 'США, Иллинойс',
                '1872' => 'США, Иллинойс',
                '1219' => 'США, Индиана',
                '1260' => 'США, Индиана',
                '1317' => 'США, Индиана',
                '1574' => 'США, Индиана',
                '1765' => 'США, Индиана',
                '1812' => 'США, Индиана',
                '1209' => 'США, Калифорния',
                '1213' => 'США, Калифорния',
                '1310' => 'США, Калифорния',
                '1323' => 'США, Калифорния',
                '1408' => 'США, Калифорния',
//                '1415' => 'США, Калифорния',
                '1424' => 'США, Калифорния',
                '1442' => 'США, Калифорния',
                '1510' => 'США, Калифорния',
                '1530' => 'США, Калифорния',
                '1559' => 'США, Калифорния',
                '1562' => 'США, Калифорния',
                '1619' => 'США, Калифорния',
                '1626' => 'США, Калифорния',
                '1650' => 'США, Калифорния',
                '1657' => 'США, Калифорния',
                '1661' => 'США, Калифорния',
                '1707' => 'США, Калифорния',
                '1714' => 'США, Калифорния',
                '1747' => 'США, Калифорния',
                '1760' => 'США, Калифорния',
                '1805' => 'США, Калифорния',
                '1818' => 'США, Калифорния',
                '1831' => 'США, Калифорния',
                '1858' => 'США, Калифорния',
                '1909' => 'США, Калифорния',
                '1916' => 'США, Калифорния',
                '1925' => 'США, Калифорния',
                '1949' => 'США, Калифорния',
                '1951' => 'США, Калифорния',
                '1415' => 'США, Калифорния, Сан-Франциско',
                '1316' => 'США, Канзас',
                '1620' => 'США, Канзас',
                '1785' => 'США, Канзас',
                '1913' => 'США, Канзас',
                '1270' => 'США, Кентукки',
                '1502' => 'США, Кентукки',
                '1606' => 'США, Кентукки',
                '1859' => 'США, Кентукки',
                '1303' => 'США, Колорадо',
                '1719' => 'США, Колорадо',
                '1720' => 'США, Колорадо',
                '1970' => 'США, Колорадо',
                '1203' => 'США, Коннектикуд',
                '1475' => 'США, Коннектикуд',
                '1860' => 'США, Коннектикуд',
                '1225' => 'США, Луизиана',
                '1318' => 'США, Луизиана',
                '1337' => 'США, Луизиана',
                '1504' => 'США, Луизиана',
                '1985' => 'США, Луизиана',
                '1339' => 'США, Массачусетс',
                '1351' => 'США, Массачусетс',
                '1413' => 'США, Массачусетс',
                '1508' => 'США, Массачусетс',
                '1617' => 'США, Массачусетс',
                '1774' => 'США, Массачусетс',
                '1781' => 'США, Массачусетс',
                '1857' => 'США, Массачусетс',
                '1978' => 'США, Массачусетс',
                '1218' => 'США, Миннесота',
                '1320' => 'США, Миннесота',
                '1507' => 'США, Миннесота',
                '1612' => 'США, Миннесота',
                '1651' => 'США, Миннесота',
                '1763' => 'США, Миннесота',
                '1952' => 'США, Миннесота',
                '1228' => 'США, Миссисипи',
                '1601' => 'США, Миссисипи',
                '1662' => 'США, Миссисипи',
                '1769' => 'США, Миссисипи',
                '1314' => 'США, Миссури',
                '1417' => 'США, Миссури',
                '1573' => 'США, Миссури',
                '1636' => 'США, Миссури',
                '1660' => 'США, Миссури',
                '1816' => 'США, Миссури',
                '1231' => 'США, Мичиган',
                '1248' => 'США, Мичиган',
                '1269' => 'США, Мичиган',
                '1313' => 'США, Мичиган',
                '1517' => 'США, Мичиган',
                '1586' => 'США, Мичиган',
                '1616' => 'США, Мичиган',
                '1734' => 'США, Мичиган',
                '1810' => 'США, Мичиган',
                '1906' => 'США, Мичиган',
                '1947' => 'США, Мичиган',
                '1989' => 'США, Мичиган',
                '1406' => 'США, Монтана',
                '1207' => 'США, Мэн',
                '1240' => 'США, Мэриленд',
                '1301' => 'США, Мэриленд',
                '1410' => 'США, Мэриленд',
                '1443' => 'США, Мэриленд',
                '1308' => 'США, Небраска',
                '1402' => 'США, Небраска',
                '1531' => 'США, Небраска',
                '1702' => 'США, Невада',
                '1775' => 'США, Невада',
                '1603' => 'США, Нью-Гэмпшир',
                '1201' => 'США, Нью-Джерси',
                '1551' => 'США, Нью-Джерси',
                '1609' => 'США, Нью-Джерси',
                '1732' => 'США, Нью-Джерси',
                '1848' => 'США, Нью-Джерси',
                '1856' => 'США, Нью-Джерси',
                '1862' => 'США, Нью-Джерси',
                '1908' => 'США, Нью-Джерси',
                '1973' => 'США, Нью-Джерси',
                '1212' => 'США, Нью-Йорк (штат)',
                '1315' => 'США, Нью-Йорк (штат)',
                '1347' => 'США, Нью-Йорк (штат)',
                '1516' => 'США, Нью-Йорк (штат)',
                '1518' => 'США, Нью-Йорк (штат)',
                '1607' => 'США, Нью-Йорк (штат)',
                '1631' => 'США, Нью-Йорк (штат)',
                '1646' => 'США, Нью-Йорк (штат)',
                '1716' => 'США, Нью-Йорк (штат)',
                '1718' => 'США, Нью-Йорк (штат)',
                '1845' => 'США, Нью-Йорк (штат)',
                '1914' => 'США, Нью-Йорк (штат)',
                '1917' => 'США, Нью-Йорк (штат)',
                '1929' => 'США, Нью-Йорк (штат)',
                '1505' => 'США, Нью-Мексико',
                '1575' => 'США, Нью-Мексико',
                '1216' => 'США, Огайо',
                '1234' => 'США, Огайо',
                '1330' => 'США, Огайо',
                '1419' => 'США, Огайо',
                '1440' => 'США, Огайо',
                '1513' => 'США, Огайо',
                '1567' => 'США, Огайо',
                '1614' => 'США, Огайо',
                '1740' => 'США, Огайо',
                '1937' => 'США, Огайо',
                '1405' => 'США, Оклахома',
                '1539' => 'США, Оклахома',
                '1580' => 'США, Оклахома',
                '1918' => 'США, Оклахома',
                '1202' => 'США, Округ Колумбия (Вашингтон)',
                '1458' => 'США, Орегон',
                '1503' => 'США, Орегон',
                '1541' => 'США, Орегон',
                '1971' => 'США, Орегон',
                '1215' => 'США, Пенсильвания',
                '1267' => 'США, Пенсильвания',
                '1412' => 'США, Пенсильвания',
                '1484' => 'США, Пенсильвания',
                '1570' => 'США, Пенсильвания',
                '1610' => 'США, Пенсильвания',
                '1717' => 'США, Пенсильвания',
                '1724' => 'США, Пенсильвания',
                '1814' => 'США, Пенсильвания',
                '1878' => 'США, Пенсильвания',
                '1401' => 'США, Род-Айленд',
                '1701' => 'США, Северная Дакота',
                '1252' => 'США, Северная Каролина',
                '1336' => 'США, Северная Каролина',
                '1704' => 'США, Северная Каролина',
                '1828' => 'США, Северная Каролина',
                '1910' => 'США, Северная Каролина',
                '1919' => 'США, Северная Каролина',
                '1980' => 'США, Северная Каролина',
                '1423' => 'США, Теннесси',
                '1615' => 'США, Теннесси',
                '1731' => 'США, Теннесси',
                '1865' => 'США, Теннесси',
                '1901' => 'США, Теннесси',
                '1931' => 'США, Теннесси',
                '1210' => 'США, Техас',
                '1214' => 'США, Техас',
                '1254' => 'США, Техас',
                '1281' => 'США, Техас',
                '1325' => 'США, Техас',
                '1361' => 'США, Техас',
                '1409' => 'США, Техас',
                '1430' => 'США, Техас',
                '1432' => 'США, Техас',
                '1469' => 'США, Техас',
                '1512' => 'США, Техас',
                '1682' => 'США, Техас',
                '1713' => 'США, Техас',
                '1806' => 'США, Техас',
                '1817' => 'США, Техас',
                '1830' => 'США, Техас',
                '1832' => 'США, Техас',
                '1903' => 'США, Техас',
                '1915' => 'США, Техас',
                '1936' => 'США, Техас',
                '1940' => 'США, Техас',
                '1956' => 'США, Техас',
                '1972' => 'США, Техас',
                '1979' => 'США, Техас',
                '1239' => 'США, Флорида',
                '1305' => 'США, Флорида',
                '1321' => 'США, Флорида',
                '1352' => 'США, Флорида',
                '1386' => 'США, Флорида',
                '1407' => 'США, Флорида',
                '1561' => 'США, Флорида',
                '1727' => 'США, Флорида',
                '1754' => 'США, Флорида',
                '1772' => 'США, Флорида',
                '1786' => 'США, Флорида',
                '1813' => 'США, Флорида',
                '1850' => 'США, Флорида',
                '1863' => 'США, Флорида',
                '1904' => 'США, Флорида',
                '1941' => 'США, Флорида',
                '1954' => 'США, Флорида',
                '1605' => 'США, Южная Дакота',
                '1803' => 'США, Южная Каролина',
                '1843' => 'США, Южная Каролина',
                '1864' => 'США, Южная Каролина',
                '1385' => 'США, Юта',
                '1435' => 'США, Юта',
                '1801' => 'США, Юта',
                '1684' => 'США, Океания, Американское Самоа',
                '1671' => 'США, Океания, Гуам',
                '1670' => 'США, Океания, Марианские острова (Сайпан)',

                // Канада
                '1403' => 'Канада, Альберта',
                '1250' => 'Канада, Британская Колумбия',
                '1604' => 'Канада, Британская Колумбия',
                '1778' => 'Канада, Британская Колумбия',
                '1418' => 'Канада, Квебек',
                '1438' => 'Канада, Квебек',
                '1450' => 'Канада, Квебек',
                '1514' => 'Канада, Квебек',
                '1579' => 'Канада, Квебек',
                '1581' => 'Канада, Квебек',
                '1819' => 'Канада, Квебек',
                '1204' => 'Канада, Манитоба',
                '1902' => 'Канада, Новая Шотландия / Остров Принца Эдуарда',
                '1867' => 'Канада, Нунавут / Северо-Западные территории / Юкон',
                '1506' => 'Канада, Нью-Брансуик',
                '1709' => 'Канада, Ньюфаундленд и Лабрадор',
                '1226' => 'Канада, Онтарио',
                '1249' => 'Канада, Онтарио',
                '1289' => 'Канада, Онтарио',
                '1343' => 'Канада, Онтарио',
                '1416' => 'Канада, Онтарио',
                '1519' => 'Канада, Онтарио',
                '1613' => 'Канада, Онтарио',
                '1647' => 'Канада, Онтарио',
                '1705' => 'Канада, Онтарио',
                '1807' => 'Канада, Онтарио',
                '1905' => 'Канада, Онтарио',
                '1306' => 'Канада, Саскачеван',

                // страны Карибского бассейна
                '1340' => 'Американские Виргинские острова',
                '1264' => 'Ангилья',
                '1268' => 'Антигуа и Барбуда',
                '1242' => 'Багамы',
                '1246' => 'Барбадос',
                '1441' => 'Бермуды',
                '1284' => 'Британские Виргинские острова',
                '1473' => 'Гренада',
                '1767' => 'Доминика',
                '1809' => 'Доминиканская Республика',
                '1829' => 'Доминиканская Республика',
                '1849' => 'Доминиканская Республика',
                '1345' => 'Каймановы острова',
                '1664' => 'Монтсеррат',
                '1649' => 'Острова Теркс и Кайкос',
                '1787' => 'Пуэрто-Рико',
                '1939' => 'Пуэрто-Рико',
                '1784' => 'Сент-Винсент и Гренадины',
                '1869' => 'Сент-Китс и Невис',
                '1758' => 'Сент-Люсия',
                '1868' => 'Тринидад и Тобаго',
                '1876' => 'Ямайка',
            ],
        ],
        // 'Африка', // will be filled in the future
        '2' => [
            2 => [
                '20' => 'Египет',
                '27' => 'Южно-Африканская Республика',
            ],
            3 => [
                '211' => 'Южный Судан',
                '212' => 'Марокко',
                '213' => 'Алжир',
                '216' => 'Тунис',
                '218' => 'Ливия',
                '220' => 'Гамбия',
                '221' => 'Сенегал',
                '222' => 'Мавритания',
                '223' => 'Мали',
                '224' => 'Гвинея',
                '225' => "Кот-д'Ивуар",
                '226' => 'Буркина-Фасо',
                '227' => 'Нигер',
                '228' => 'Того',
                '229' => 'Бенин',
                '230' => 'Маврикий',
                '231' => 'Либерия',
                '232' => 'Сьерра-Леоне',
                '233' => 'Гана',
                '234' => 'Нигерия',
                '235' => 'Чад',
                '236' => 'Центральноафриканская Республика',
                '237' => 'Камерун',
                '238' => 'Кабо-Верде',
                '239' => 'Сан-Томе и Принсипи',
                '240' => 'Экваториальная Гвинея',
                '241' => 'Габон',
                '242' => 'Конго',
                '243' => 'Конго, демократическая республика',
                '244' => 'Ангола',
                '245' => 'Гвинея-Бисау',
                '246' => 'Британская территория в Индийском океане',
                '247' => 'Остров Вознесения',
                '248' => 'Сейшелы',
                '249' => 'Судан',
                '250' => 'Руанда',
                '251' => 'Эфиопия',
                '252' => 'Сомали',
                '253' => 'Джибути',
                '254' => 'Кения',
                '255' => 'Танзания',
                '256' => 'Уганда',
                '257' => 'Бурунди',
                '258' => 'Мозамбик',
                '260' => 'Замбия',
                '261' => 'Мадагаскар',
                '262' => 'Реюньон и острова Майотта',
                '263' => 'Зимбабве',
                '264' => 'Намибия',
                '265' => 'Малави',
                '266' => 'Лесото',
                '267' => 'Ботсвана',
                '268' => 'Свазиленд',
                '269' => 'Коморские Острова',
                '290' => 'Остров Святой Елены',
                '291' => 'Эритрея',
                '297' => 'Аруба',
                '298' => 'Фарерские острова',
                '299' => 'Гренландия',
            ],
        ],
        '3' => [
            2 => [
                '30' => "Греция",
                '31' => "Нидерланлды",
                '32' => "Бельгия",
                '33' => "Франция",
                '34' => "Испания",
                '36' => "Венгрия",
                '39' => "Италия",
            ],
            3 => [
                '350' => "Гибралтар",
                '351' => "Португалия",
                '352' => "Люксембург",
                '353' => "Ирландия",
                '354' => "Исландия",
                '355' => "Албания",
                '356' => "Мальта",
                '357' => "Кипр",
                '358' => "Финляндия",
                '359' => "Болгария",
                '370' => "Литва",
                '371' => "Латвия",
                '372' => "Эстония",
                '373' => "Молдова",
                '374' => "Армения",
                '375' => "Беларусь",
                '376' => "Андорра",
                '377' => "Монако",
                '378' => "Сан-Марино",
                '379' => "Ватикан",
                '380' => "Украина",
                '381' => "Сербия",
                '382' => "Черногория",
                '383' => "Косово",
                '385' => "Хорватия",
                '386' => "Словения",
                '387' => "Босния и Герцеговина",
                '389' => "Македония",
            ]
        ],
        '4' => [
            2 => [
                '40' => 'Румыния',
                '41' => 'Швейцария',
                '43' => 'Австрия',
                '44' => 'Великобритания',
                '45' => 'Дания',
                '46' => 'Швеция',
                '47' => 'Норвегия',
                '48' => 'Польша',
                '49' => 'Германия',
            ],
            3 => [
                '420' => 'Чехия',
                '421' => 'Словакия',
                '423' => 'Лихтенштейн',
            ],
        ],
//        'Южная и Центральная Америка',
        '5' => [
            2 => [
                '51' => 'Перу',
                '52' => 'Мексика',
                '53' => 'Куба',
                '54' => 'Аргентина',
                '55' => 'Бразилия',
                '56' => 'Чили',
                '57' => 'Колумбия',
                '58' => 'Венесуэла',
            ],
            3 => [
                '500' => 'Фолклендские острова',
                '501' => 'Белиз',
                '502' => 'Гватемала',
                '503' => 'Сальвадор',
                '504' => 'Гондурас',
                '505' => 'Никарагуа',
                '506' => 'Коста-Рика',
                '507' => 'Панама',
                '508' => 'Сан-Пьер и Микелон',
                '509' => 'Гаити',

                '590' => 'Гваделупа',
                '591' => 'Боливия',
                '592' => 'Гайана',
                '593' => 'Эквадор',
                '594' => 'Гвиана',
                '595' => 'Парагвай',
                '596' => 'Мартиника',
                '597' => 'Суренам',
                '598' => 'Уругвай',
                '599' => 'Кюрасао',
            ],
        ],
//        'Австралия, Океания, Таиланд, Сингапур',
        '6' => [
            2 => [
                '60' => 'Малайзия',
                '61' => 'Австралия',
                '62' => 'Индонезия',
                '63' => 'Филиппины',
                '64' => 'Новая Зеландия',
                '65' => 'Сингапур',
                '66' => 'Таиланд',
            ],
            3 => [
                '670' => 'Тимор-Лешти',
                '672' => 'Антарктика',
                '673' => 'Бруней',
                '674' => 'Науру',
                '675' => 'Папуа — Новая Гвинея',
                '676' => 'Тонга',
                '677' => 'Соломоновы Острова',
                '678' => 'Вануату',
                '679' => 'Фиджи',

                '680' => 'Палау',
                '681' => 'Уоллис и Фуртуна',
                '682' => 'Острова Кука',
                '683' => 'Ниуэ',
                '685' => 'Самоа',
                '686' => 'Кирибати',
                '687' => 'Новая Каледония',
                '688' => 'Тувалу',
                '689' => 'Французская Полинезия',

                '690' => 'Токелау',
                '691' => 'Микронезия',
                '692' => 'Маршалловы Острова',
            ],
        ],
        '7' => [
            2 => [
                '73' => 'Россия',
                '74' => 'Россия',
                '75' => 'Россия',
                '78' => 'Россия',
                '79' => 'Россия',
                '76' => 'Казахстан',
                '77' => 'Казахстан',
            ],
        ],
        // 'Азия Юго-Восточная'
        '8' => [
            2 => [
                '81' => 'Япония',
                '82' => 'Южная Корея',
                '83' => 'Для спецслужб КНДР',
                '84' => 'Вьетнам',
                '86' => 'Китай',
            ],
            3 => [
                '800' => 'Все страны',
                '808' => 'Shared Cost Services',
                '850' => 'Северная Корея',
                '852' => 'Гонконг',
                '853' => 'Макао',
                '855' => 'Камбоджа',
                '856' => 'Лаос',
                '870' => 'служба Inmarsat «SNAC»',
                '871' => 'Inmarsat Атлантический Океан, восток (AOR-E)',
                '872' => 'Inmarsat Тихоокеанский регион (POR)',
                '873' => 'Inmarsat Индийский Океан (IOR)',
                '874' => 'Inmarsat Атлантический Океан, запад (AOR-W)',
                '875' => 'для службы Maritime Mobile',
                '876' => 'для службы Maritime Mobile',
                '877' => 'для службы Maritime Mobile',
                '878' => 'служба Universal Personal Telecommunications',
                '879' => 'для внутреннего использования mobile/maritime',
                '880' => 'Бангладеш',
                '881' => 'Mobile Satellite System',
                '882' => 'International Networks',
                '883' => 'International Networks',
                '886' => 'Тайвань',
            ],
        ],
        '9' => [
            2 => [
                '90' => 'Турция',
                '91' => 'Индия',
                '92' => 'Пакистан',
                '93' => 'Афганистан',
                '94' => 'Шри-Ланка',
                '95' => 'Мьянма',
                '98' => 'Иран',
            ],
            3 => [
                '960' => 'Мальдивские острова',
                '961' => 'Ливан',
                '962' => 'Иордания',
                '963' => 'Сирия',
                '964' => 'Ирак',
                '965' => 'Кувейт',
                '966' => 'Саудовская Аравия',
                '967' => 'Йемен',
                '968' => 'Оман',
                '970' => 'Палестинская автономия',
                '971' => 'Объединенные Арабские Эмираты',
                '972' => 'Израиль',
                '973' => 'Бахрейн',
                '974' => 'Катар',
                '975' => 'Бутан',
                '976' => 'Монголия',
                '977' => 'Непал',
                '979' => 'International Premium Rate Service',
                '991' => 'International Telecommunications Public Correspondence Service trial (ITPCS)',
                '992' => 'Таджикистан',
                '993' => 'Туркменистан',
                '994' => 'Азейрбаджан',
                '995' => 'Грузия',
                '996' => 'Кыргызстан',
                '998' => 'Узбекистан',
                '999' => 'Universal Communications United',
            ]
        ]
    ];
    
    const PHONE_COUNTRY_ISO_CODES = [
        // 'США, Канада и Карибсий бассейн'
        '1' => [
            4 => [
                // США
                '1208' => 'US',
                '1319' => 'US',
                '1515' => 'US',
                '1563' => 'US',
                '1641' => 'US',
                '1712' => 'US',
                '1205' => 'US',
                '1251' => 'US',
                '1256' => 'US',
                '1334' => 'US',
                '1938' => 'US',
                '1907' => 'US',
                '1480' => 'US',
                '1520' => 'US',
                '1665' => 'US',
                '1623' => 'US',
                '1928' => 'US',
                '1479' => 'US',
                '1501' => 'US',
                '1870' => 'US',
                '1307' => 'US',
                '1206' => 'US',
                '1253' => 'US',
                '1360' => 'US',
                '1425' => 'US',
                '1509' => 'US',
                '1802' => 'US',
                '1276' => 'US',
                '1434' => 'US',
                '1540' => 'US',
                '1571' => 'US',
                '1703' => 'US',
                '1757' => 'US',
                '1804' => 'US',
                '1262' => 'US',
                '1414' => 'US',
                '1534' => 'US',
                '1608' => 'US',
                '1715' => 'US',
                '1920' => 'US',
                '1808' => 'US',
                '1302' => 'US',
                '1229' => 'US',
                '1404' => 'US',
                '1478' => 'US',
                '1678' => 'US',
                '1706' => 'US',
                '1762' => 'US',
                '1770' => 'US',
                '1912' => 'US',
                '1304' => 'US',
                '1681' => 'US',
                '1217' => 'US',
                '1224' => 'US',
                '1309' => 'US',
                '1312' => 'US',
                '1331' => 'US',
                '1618' => 'US',
                '1630' => 'US',
                '1708' => 'US',
                '1773' => 'US',
                '1779' => 'US',
                '1815' => 'US',
                '1847' => 'US',
                '1872' => 'US',
                '1219' => 'US',
                '1260' => 'US',
                '1317' => 'US',
                '1574' => 'US',
                '1765' => 'US',
                '1812' => 'US',
                '1209' => 'US',
                '1213' => 'US',
                '1310' => 'US',
                '1323' => 'US',
                '1408' => 'US',
//                '1415' => 'США, Калифорния',
                '1424' => 'US',
                '1442' => 'US',
                '1510' => 'US',
                '1530' => 'US',
                '1559' => 'US',
                '1562' => 'US',
                '1619' => 'US',
                '1626' => 'US',
                '1650' => 'US',
                '1657' => 'US',
                '1661' => 'US',
                '1707' => 'US',
                '1714' => 'US',
                '1747' => 'US',
                '1760' => 'US',
                '1805' => 'US',
                '1818' => 'US',
                '1831' => 'US',
                '1858' => 'US',
                '1909' => 'US',
                '1916' => 'US',
                '1925' => 'US',
                '1949' => 'US',
                '1951' => 'US',
                '1415' => 'US',
                '1316' => 'US',
                '1620' => 'US',
                '1785' => 'US',
                '1913' => 'US',
                '1270' => 'US',
                '1502' => 'US',
                '1606' => 'US',
                '1859' => 'US',
                '1303' => 'US',
                '1719' => 'US',
                '1720' => 'US',
                '1970' => 'US',
                '1203' => 'US',
                '1475' => 'US',
                '1860' => 'US',
                '1225' => 'US',
                '1318' => 'US',
                '1337' => 'US',
                '1504' => 'US',
                '1985' => 'US',
                '1339' => 'US',
                '1351' => 'US',
                '1413' => 'US',
                '1508' => 'US',
                '1617' => 'US',
                '1774' => 'US',
                '1781' => 'US',
                '1857' => 'US',
                '1978' => 'US',
                '1218' => 'US',
                '1320' => 'US',
                '1507' => 'US',
                '1612' => 'US',
                '1651' => 'US',
                '1763' => 'US',
                '1952' => 'US',
                '1228' => 'US',
                '1601' => 'US',
                '1662' => 'US',
                '1769' => 'US',
                '1314' => 'US',
                '1417' => 'US',
                '1573' => 'US',
                '1636' => 'US',
                '1660' => 'US',
                '1816' => 'US',
                '1231' => 'US',
                '1248' => 'US',
                '1269' => 'US',
                '1313' => 'US',
                '1517' => 'US',
                '1586' => 'US',
                '1616' => 'US',
                '1734' => 'US',
                '1810' => 'US',
                '1906' => 'US',
                '1947' => 'US',
                '1989' => 'US',
                '1406' => 'US',
                '1207' => 'US',
                '1240' => 'US',
                '1301' => 'US',
                '1410' => 'US',
                '1443' => 'US',
                '1308' => 'US',
                '1402' => 'US',
                '1531' => 'US',
                '1702' => 'US',
                '1775' => 'US',
                '1603' => 'US',
                '1201' => 'US',
                '1551' => 'US',
                '1609' => 'US',
                '1732' => 'US',
                '1848' => 'US',
                '1856' => 'US',
                '1862' => 'US',
                '1908' => 'US',
                '1973' => 'US',
                '1212' => 'US',
                '1315' => 'US',
                '1347' => 'US',
                '1516' => 'US',
                '1518' => 'US',
                '1607' => 'US',
                '1631' => 'US',
                '1646' => 'US',
                '1716' => 'US',
                '1718' => 'US',
                '1845' => 'US',
                '1914' => 'US',
                '1917' => 'US',
                '1929' => 'US',
                '1505' => 'US',
                '1575' => 'US',
                '1216' => 'US',
                '1234' => 'US',
                '1330' => 'US',
                '1419' => 'US',
                '1440' => 'US',
                '1513' => 'US',
                '1567' => 'US',
                '1614' => 'US',
                '1740' => 'US',
                '1937' => 'US',
                '1405' => 'US',
                '1539' => 'US',
                '1580' => 'US',
                '1918' => 'US',
                '1202' => 'US',
                '1458' => 'US',
                '1503' => 'US',
                '1541' => 'US',
                '1971' => 'US',
                '1215' => 'US',
                '1267' => 'US',
                '1412' => 'US',
                '1484' => 'US',
                '1570' => 'US',
                '1610' => 'US',
                '1717' => 'US',
                '1724' => 'US',
                '1814' => 'US',
                '1878' => 'US',
                '1401' => 'US',
                '1701' => 'US',
                '1252' => 'US',
                '1336' => 'US',
                '1704' => 'US',
                '1828' => 'US',
                '1910' => 'US',
                '1919' => 'US',
                '1980' => 'US',
                '1423' => 'US',
                '1615' => 'US',
                '1731' => 'US',
                '1865' => 'US',
                '1901' => 'US',
                '1931' => 'US',
                '1210' => 'US',
                '1214' => 'US',
                '1254' => 'US',
                '1281' => 'US',
                '1325' => 'US',
                '1361' => 'US',
                '1409' => 'US',
                '1430' => 'US',
                '1432' => 'US',
                '1469' => 'US',
                '1512' => 'US',
                '1682' => 'US',
                '1713' => 'US',
                '1806' => 'US',
                '1817' => 'US',
                '1830' => 'US',
                '1832' => 'US',
                '1903' => 'US',
                '1915' => 'US',
                '1936' => 'US',
                '1940' => 'US',
                '1956' => 'US',
                '1972' => 'US',
                '1979' => 'US',
                '1239' => 'US',
                '1305' => 'US',
                '1321' => 'US',
                '1352' => 'US',
                '1386' => 'US',
                '1407' => 'US',
                '1561' => 'US',
                '1727' => 'US',
                '1754' => 'US',
                '1772' => 'US',
                '1786' => 'US',
                '1813' => 'US',
                '1850' => 'US',
                '1863' => 'US',
                '1904' => 'US',
                '1941' => 'US',
                '1954' => 'US',
                '1605' => 'US',
                '1803' => 'US',
                '1843' => 'US',
                '1864' => 'US',
                '1385' => 'US',
                '1435' => 'US',
                '1801' => 'US',
                '1684' => 'US',
                '1671' => 'US',
                '1670' => 'US',

                // Канада
                '1403' => 'CA',
                '1250' => 'CA',
                '1604' => 'CA',
                '1778' => 'CA',
                '1418' => 'CA',
                '1438' => 'CA',
                '1450' => 'CA',
                '1514' => 'CA',
                '1579' => 'CAк',
                '1581' => 'CA',
                '1819' => 'CA',
                '1204' => 'CA',
                '1902' => 'CA',
                '1867' => 'CA',
                '1506' => 'CA',
                '1709' => 'CA',
                '1226' => 'CA',
                '1249' => 'CA',
                '1289' => 'CA',
                '1343' => 'CA',
                '1416' => 'CA',
                '1519' => 'CA',
                '1613' => 'CA',
                '1647' => 'CA',
                '1705' => 'CA',
                '1807' => 'CA',
                '1905' => 'CA',
                '1306' => 'CA',

                // страны Карибского бассейна
                '1340' => 'VI',
                '1264' => 'AI',
                '1268' => 'AG',
                '1242' => 'BS',
                '1246' => 'BB',
                '1441' => 'BM',
                '1284' => 'VG',
                '1473' => 'GD',
                '1767' => 'DM',
                '1809' => 'DO',
                '1829' => 'DO',
                '1849' => 'DO',
                '1345' => 'KY',
                '1664' => 'MS',
                '1649' => 'TC',
                '1787' => 'PR',
                '1939' => 'PR',
                '1784' => 'VC',
                '1869' => 'KN',
                '1758' => 'LC',
                '1868' => 'TT',
                '1876' => 'JM',
            ],
        ],
        // 'Африка', // will be filled in the future
        '2' => [
            2 => [
                '20' => 'EG',
                '27' => 'ZA',
            ],
            3 => [
                '211' => 'SS',
                '212' => 'MA',
                '213' => 'DZ',
                '216' => 'TN',
                '218' => 'LY',
                '220' => 'GM',
                '221' => 'SN',
                '222' => 'MR',
                '223' => 'ML',
                '224' => 'GN',
                '225' => "CI",
                '226' => 'BF',
                '227' => 'NE',
                '228' => 'TG',
                '229' => 'BJ',
                '230' => 'MU',
                '231' => 'LR',
                '232' => 'SL',
                '233' => 'GH',
                '234' => 'NG',
                '235' => 'CD',
                '236' => 'CF',
                '237' => 'CM',
                '238' => 'CV',
                '239' => 'ST',
                '240' => 'GQ',
                '241' => 'GA',
                '242' => 'CG',
                '243' => 'CD',
                '244' => 'AO',
                '245' => 'GW',
                '246' => 'IO',
                '247' => 'SH',
                '248' => 'SC',
                '249' => 'SD',
                '250' => 'RW',
                '251' => 'ET',
                '252' => 'SO',
                '253' => 'DJ',
                '254' => 'KE',
                '255' => 'TZ',
                '256' => 'UG',
                '257' => 'BI',
                '258' => 'MZ',
                '260' => 'ZM',
                '261' => 'MG',
                '262' => 'RE',
                '263' => 'ZW',
                '264' => 'NA',
                '265' => 'MW',
                '266' => 'LS',
                '267' => 'BW',
                '268' => 'SZ',
                '269' => 'KM',
                '290' => 'SH',
                '291' => 'ER',
                '297' => 'AW',
                '298' => 'FO',
                '299' => 'GL',
            ],
        ],
        '3' => [
            2 => [
                '30' => "GR",
                '31' => "NL",
                '32' => "BE",
                '33' => "FR",
                '34' => "ES",
                '36' => "HU",
                '39' => "IT",
            ],
            3 => [
                '350' => "GI",
                '351' => "PT",
                '352' => "LU",
                '353' => "IE",
                '354' => "IS",
                '355' => "AL",
                '356' => "MT",
                '357' => "CY",
                '358' => "FI",
                '359' => "BG",
                '370' => "LT",
                '371' => "LV",
                '372' => "EE",
                '373' => "MD",
                '374' => "AM",
                '375' => "BY",
                '376' => "AD",
                '377' => "MC",
                '378' => "SM",
                '379' => "VA",
                '380' => "UA",
                '381' => "RS",
                '382' => "ME",
                '383' => "XK",
                '385' => "HR",
                '386' => "SI",
                '387' => "BA",
                '389' => "MK",
            ]
        ],
        '4' => [
            2 => [
                '40' => 'RO',
                '41' => 'CH',
                '43' => 'AT',
                '44' => 'GB',
                '45' => 'DK',
                '46' => 'SE',
                '47' => 'NO',
                '48' => 'PL',
                '49' => 'DE',
            ],
            3 => [
                '420' => 'CZ',
                '421' => 'SK',
                '423' => 'LI',
            ],
        ],
        '5' => [
            2 => [
                '51' => 'PE',
                '52' => 'MX',
                '53' => 'CU',
                '54' => 'AR',
                '55' => 'BR',
                '56' => 'CL',
                '57' => 'CO',
                '58' => 'VE',
            ],
            3 => [
                '500' => 'FK',
                '501' => 'BZ',
                '502' => 'GT',
                '503' => 'SV',
                '504' => 'HN',
                '505' => 'NI',
                '506' => 'CR',
                '507' => 'PA',
                '508' => 'PM',
                '509' => 'HT',

                '590' => 'GP',
                '591' => 'BO',
                '592' => 'GY',
                '593' => 'EC',
                '594' => 'GF',
                '595' => 'PY',
                '596' => 'MQ',
                '597' => 'SR',
                '598' => 'UY',
                '599' => 'CW',
            ],
        ],
        '6' => [
            2 => [
                '60' => 'MY',
                '61' => 'AU',
                '62' => 'ID',
                '63' => 'PH',
                '64' => 'NZ',
                '65' => 'SG',
                '66' => 'TH',
            ],
            3 => [
                '670' => 'TL',
                '672' => 'AQ',
                '673' => 'BN',
                '674' => 'NR',
                '675' => 'PG',
                '676' => 'TO',
                '677' => 'SB',
                '678' => 'VU',
                '679' => 'FJ',

                '680' => 'PW',
                '681' => 'WF',
                '682' => 'CK',
                '683' => 'NU',
                '685' => 'WS',
                '686' => 'KI',
                '687' => 'NC',
                '688' => 'TV',
                '689' => 'PF',

                '690' => 'TK',
                '691' => 'FM',
                '692' => 'MH',
            ],
        ],
        '7' => [
            2 => [
                '73' => 'RU',
                '74' => 'RU',
                '75' => 'RU',
                '78' => 'RU',
                '79' => 'RU',
                '76' => 'KZ',
                '77' => 'KZ',
            ],
        ],
        // 'Азия Юго-Восточная'
        '8' => [
            2 => [
                '81' => 'JP',
                '82' => 'KR',
                '83' => '--',
                '84' => 'VN',
                '86' => 'CN',
            ],
            3 => [
                '800' => 'XT',
                '808' => 'XS',
                '850' => 'KP',
                '852' => 'HK',
                '853' => 'MO',
                '855' => 'KH',
                '856' => 'LA',
                '870' => 'XN',
                '871' => 'AOR-E',
                '872' => 'POR',
                '873' => 'IOR',
                '874' => 'AOR-W',
                '875' => '--',
                '876' => '--',
                '877' => '--',
                '878' => 'XU',
                '879' => '--',
                '880' => 'BD',
                '881' => 'XG',
                '882' => 'XN',
                '883' => 'XN',
                '886' => 'TW',
            ],
        ],
        '9' => [
            2 => [
                '90' => 'TR',
                '91' => 'IN',
                '92' => 'PK',
                '93' => 'AF',
                '94' => 'LK',
                '95' => 'MM',
                '98' => 'IR',
            ],
            3 => [
                '960' => 'MV',
                '961' => 'LB',
                '962' => 'JO',
                '963' => 'SY',
                '964' => 'IQ',
                '965' => 'KW',
                '966' => 'SA',
                '967' => 'YE',
                '968' => 'OM',
                '970' => 'PS',
                '971' => 'AE',
                '972' => 'IL',
                '973' => 'BH',
                '974' => 'QA',
                '975' => 'BT',
                '976' => 'MN',
                '977' => 'NP',
                '979' => 'XR',
                '991' => 'XC',
                '992' => 'TJ',
                '993' => 'TM',
                '994' => 'AZ',
                '995' => 'GE',
                '996' => 'KG',
                '998' => 'UZ',
                '999' => '--',
            ]
        ]
    ];

    /**
     * @param PhoneNumberAdvanced $phoneNumber
     * @return false|int
     */
    public function isUkrainianNumber(PhoneNumberAdvanced $phoneNumber)
    {
        if (strlen($phoneNumber->getNumber()) < 12) {
            return false;
        }
        return (strpos($phoneNumber->getNumber(), '380') === 0);
    }

    /**
     * @param PhoneNumberAdvanced $phoneNumber
     * @return string
     * empty return = undefined country
     */
    public function detectCountry(PhoneNumberAdvanced $phoneNumber)
    {
        $phone = $phoneNumber->getNumber();
        if(empty($phone)) {
            return '';
        }
        $first = $phone[0];
        if (!array_key_exists($first, self::PHONE_CODES_RU)) {
            return '';
        }

        foreach ([2,3,4] as $digits) {
            $searchStart = substr($phone, 0, $digits);
            if (
                isset(self::PHONE_CODES_RU[$first][$digits]) &&
                isset(self::PHONE_CODES_RU[$first][$digits][$searchStart])
            ) {
                return self::PHONE_CODES_RU[$first][$digits][$searchStart];
            }
        }

        return '';
    }
    
    

    /**
     * @param PhoneNumberAdvanced $phoneNumber
     * @return string
     * empty return = undefined country code
     */
    public function detectCountryISOCode(PhoneNumberAdvanced $phoneNumber)
    {
        $phone = $phoneNumber->getNumber();
        if(empty($phone)) {
            return '';
        }
        $first = $phone[0];
        if (!array_key_exists($first, self::PHONE_COUNTRY_ISO_CODES)) {
            return '';
        }

        foreach ([2,3,4] as $digits) {
            $searchStart = substr($phone, 0, $digits);
            if (
                isset(self::PHONE_CODES_RU[$first][$digits]) &&
                isset(self::PHONE_CODES_RU[$first][$digits][$searchStart])
            ) {
                return self::PHONE_CODES_RU[$first][$digits][$searchStart];
            }
        }

        return '';
    }
}
